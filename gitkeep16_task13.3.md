
ðŸŸ¢ **Dashka=>Claude (D=>C)**
**TASK 13.3 â€” FRONTEND: MOCK â†’ REAL DATA (IMPLEMENTATION TASK)**

Claude, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÐ¼ ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ñƒ Solar.
Ð¢Ñ‹ â€” **Ð¸Ð½Ð¶ÐµÐ½ÐµÑ€**, Ñ â€” **ÑÐµÐ½ÑŒÐ¾Ñ€-ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð¾Ñ€**, Leanid â€” **Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚Ð¾Ñ€**.
Ð¯ Ð´Ð°ÑŽ Ð¢Ð—, Ñ‚Ñ‹ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑˆÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ **Ð±ÐµÐ· Ð»Ð¸ÑˆÐ½Ð¸Ñ… ÑÐ»Ð¾Ð²**.

---

# ðŸŽ¯ Ð¦Ð•Ð›Ð¬ TASK 13.3

Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ **mock listings** Ð½Ð° **Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· API**,
ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ **ÐµÐ´Ð¸Ð½Ñ‹Ð¹ Ð¿Ð¾Ñ‚Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…** Ð´Ð»Ñ Sidebar Ð¸ Map **Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹**.

**ÐšÐ»ÑŽÑ‡ÐµÐ²Ð°Ñ Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ð°:**

> `Map bbox â†’ API /houses â†’ HomeClient state â†’ Sidebar + Map`

---

# ðŸ§± SCOPE (Ð§Ð¢Ðž ÐœÐ•ÐÐ¯Ð•Ðœ / Ð§Ð¢Ðž ÐÐ• Ð¢Ð ÐžÐ“ÐÐ•Ðœ)

## âœ… ÐœÐ•ÐÐ¯Ð•Ðœ

* **Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð¸Ð½ Ñ„Ð°Ð¹Ð»:** `components/HomeClient.tsx`
* ÐŸÐ¾Ð»Ð½Ð°Ñ Ð·Ð°Ð¼ÐµÐ½Ð° Ñ„Ð°Ð¹Ð»Ð° Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð° Ð¸ Ð¾Ð¶Ð¸Ð´Ð°ÐµÐ¼Ð°

## âŒ ÐÐ• Ð¢Ð ÐžÐ“ÐÐ•Ðœ

* `MapContainer.tsx`
* `ClusterLayer.tsx`
* `ListingSidebar.tsx`
* API, Prisma, PostGIS
* Layout, UX, ÑÑ‚Ð¸Ð»Ð¸

---

# ðŸ“‹ Ð¢Ð•Ð¥ÐÐ˜Ð§Ð•Ð¡ÐšÐ˜Ð• Ð¢Ð Ð•Ð‘ÐžÐ’ÐÐÐ˜Ð¯

## 1ï¸âƒ£ Ð£Ð”ÐÐ›Ð˜Ð¢Ð¬ MOCK

* ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ `MOCK_LISTINGS`
* ÐÐ¸ÐºÐ°ÐºÐ¸Ñ… fallback Ð½Ð° mock

---

## 2ï¸âƒ£ Ð¡ÐžÐ¡Ð¢ÐžÐ¯ÐÐ˜Ð¯ Ð’ HomeClient

Ð’ `HomeClient.tsx` Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ:

```ts
houses: House[]          // Ð¸Ð· API
loading: boolean
error: string | null

bbox
selectedId
hoveredId
```

---

## 3ï¸âƒ£ Ð—ÐÐ“Ð Ð£Ð—ÐšÐ Ð”ÐÐÐÐ«Ð¥

### API

```
GET /api/houses?bbox=minLng,minLat,maxLng,maxLat
```

### ÐŸÐ¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ

* `useEffect` â†’ Ñ€ÐµÐ°Ð³Ð¸Ñ€ÑƒÐµÑ‚ Ð½Ð° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ `bbox`
* ÐµÑÐ»Ð¸ `bbox === null` â†’ **Ð½Ðµ Ð´ÐµÐ»Ð°Ñ‚ÑŒ fetch**
* Ð¿ÐµÑ€ÐµÐ´ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð¼: `setLoading(true)`
* Ð¿Ð¾ÑÐ»Ðµ: `setHouses(data)` + `setLoading(false)`
* Ð¿Ñ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐµ: `setError(...)`

---

## 4ï¸âƒ£ Ð¢Ð ÐÐÐ¡Ð¤ÐžÐ ÐœÐÐ¦Ð˜Ð¯ Ð”ÐÐÐÐ«Ð¥

API Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ `House` (ÐºÐ°Ð½Ð¾Ð½Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð¸Ð· audit).
Ð¢Ñ‹ Ð´Ð¾Ð»Ð¶ÐµÐ½ **Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ** Ðº Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚ `ListingSidebar`.

Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾:

* `centroid.lat / lng` â†’ `lat / lng`
* price / priceSqm â†’ Ð¸Ð· ÑÐ²ÑÐ·Ð°Ð½Ð½Ð¾Ð³Ð¾ `PriceEstimate` (ÐµÑÐ»Ð¸ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚)

â— **ÐÐ¸ÐºÐ°ÐºÐ¾Ð¹ Ð»Ð¾Ð³Ð¸ÐºÐ¸ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸, Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð², ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ¸.**

---

## 5ï¸âƒ£ UI-Ð›ÐžÐ“Ð˜ÐšÐ

### Sidebar:

* Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ **Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ listings**
* ÐµÑÐ»Ð¸ `loading === true` â†’ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ â€œLoading listingsâ€¦â€
* ÐµÑÐ»Ð¸ `houses.length === 0 && !loading` â†’ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ empty state
* Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… â€œÐ¿Ñ€Ð¾Ð¿Ð°Ð´Ð°Ð½Ð¸Ð¹â€ Ð¸Ð·-Ð·Ð° Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°

---

## 6ï¸âƒ£ ÐšÐ Ð˜Ð¢Ð•Ð Ð˜Ð˜ Ð“ÐžÐ¢ÐžÐ’ÐÐžÐ¡Ð¢Ð˜ (ACCEPTANCE)

Ð¢Ñ‹ ÑÑ‡Ð¸Ñ‚Ð°ÐµÑˆÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ð¾Ð¹, ÐµÑÐ»Ð¸:

1. âŒ Ð’ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ **Ð½ÐµÑ‚ mock listings**
2. âœ… Sidebar Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
3. âœ… Ð”Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹ â†’ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ ÑÐ¿Ð¸ÑÐ¾Ðº
4. âœ… `selectedId / hoveredId` Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°ÑŽÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ
5. âœ… `pnpm dev` â€” PASS
6. âœ… `pnpm build` â€” PASS
7. âœ… ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ ÑÐ»Ð¾Ð¼Ð°Ð½Ð¾ Ð² Map

---

# ðŸ“¦ Ð§Ð¢Ðž Ð¢Ð« Ð’ÐžÐ—Ð’Ð ÐÐ©ÐÐ•Ð¨Ð¬

**Ð¢ÐžÐ›Ð¬ÐšÐž:**

1. ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» `HomeClient.tsx`
2. ÐšÑ€Ð°Ñ‚ÐºÐ¸Ð¹ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚:

   * Ñ‡Ñ‚Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ð»
   * ÐºÐ°Ðº Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ
   * Ð³Ð´Ðµ loading / empty state

**ÐÐ•:**

* Ð½Ðµ Ð¾Ð±ÑŠÑÑÐ½ÑÐµÑˆÑŒ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñƒ
* Ð½Ðµ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÑˆÑŒ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ
* Ð½Ðµ Ñ‚Ñ€Ð¾Ð³Ð°ÐµÑˆÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ñ‹

---

# â±ï¸ ÐŸÐ Ð˜ÐžÐ Ð˜Ð¢Ð•Ð¢

Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹. Ð­Ñ‚Ð¾ **ÑÐµÑ€Ð´Ñ†Ðµ Phase 2**.

---

ðŸ›°ï¸ **Leanidâ‡’Dashka Ð·Ð°Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð» Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ â€” Ð¿Ñ€Ð¸Ð½ÑÑ‚Ð¾.**
Ð¯ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ°Ðº ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð¾Ñ€ Ð¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ‘Ñ€.
Claude â€” Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐ¹ ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾ Ð¢Ð—.

**Ð–Ð´Ñƒ Ð¾Ñ‚Ð²ÐµÑ‚ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ:**
**C=>D: HomeClient.tsx + short report**


task16