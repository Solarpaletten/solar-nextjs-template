üü¢ **L=>D / C=>D ‚Äî –ü–†–ò–ù–Ø–¢–û. TASK 13 = GO.**
–ú—ã **–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –≤—ã—Ö–æ–¥–∏–º –∏–∑ –¥–µ–º–æ-—Ä–µ–∂–∏–º–∞** –∏ –Ω–∞—á–∏–Ω–∞–µ–º **Phase 2 ‚Äî Real Data**. –ù–∏–∂–µ ‚Äî —á—ë—Ç–∫–∞—è —Ñ–∏–∫—Å–∞—Ü–∏—è, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –º—ã –¥–µ–ª–∞–µ–º –∏ —á—Ç–æ —Ç—ã –ø–æ–ª—É—á–∏—à—å –Ω–∞ –≤—ã—Ö–æ–¥–µ.

---

# üöÄ TASK 13 ‚Äî PHASE 2: REAL DATA

**–°—Ç–∞—Ç—É—Å:** ‚ñ∂Ô∏è ACTIVE
**–¶–µ–ª—å:** –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å SolarHousePrice –∏–∑ ‚Äú–∫—Ä–∞—Å–∏–≤–æ–π –∫–∞—Ä—Ç—ã‚Äù –≤ **—Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏**.

---

## üéØ –ì–õ–ê–í–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢ TASK 13 (–û–î–ù–û –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï)

> **Sidebar, Map, Clusters –∏ API –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –û–î–ù–ò–• –ò –¢–ï–• –ñ–ï –æ–±—ä–µ–∫—Ç–∞—Ö –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (`House`) –∏–∑ –ë–î, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ bbox.**

---

# 1Ô∏è‚É£ –ß–¢–û –ú–´ –ü–û–õ–£–ß–ò–ú –í –†–ï–ó–£–õ–¨–¢–ê–¢–ï (–ö–û–ù–ö–†–ï–¢–ù–û)

## ‚úÖ 1. –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã (Single Source of Truth)

* –ë–æ–ª—å—à–µ **–Ω–∏–∫–∞–∫–∏—Ö mock listings**
* –û–¥–∏–Ω –º–∞—Å—Å–∏–≤ `houses[]`, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ API
* –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

  * –¥–ª—è –º–∞—Ä–∫–µ—Ä–æ–≤
  * –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
  * –¥–ª—è sidebar
  * –¥–ª—è –≤—ã–±–æ—Ä–∞/hover

üëâ **–ò—Å—á–µ–∑–∞–µ—Ç –∫–ª–∞—Å—Å –±–∞–≥–æ–≤ ‚Äú–∫–∞—Ä—Ç–∞ ‚â† —Å–ø–∏—Å–æ–∫‚Äù –Ω–∞–≤—Å–µ–≥–¥–∞.**

---

## ‚úÖ 2. –†–µ–∞–ª—å–Ω—ã–π Sidebar (–Ω–µ –ø—É—Å—Ç–æ–π)

* Sidebar –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ —Ç–µ–∫—É—â–µ–º –æ–∫–Ω–µ –∫–∞—Ä—Ç—ã**
* –ù–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∞ ‚Äú–ø–æ—è–≤–∏–ª–∏—Å—å ‚Üí –ø—Ä–æ–ø–∞–ª–∏‚Äù
* Empty state —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ **—Ä–µ–∞–ª—å–Ω–æ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö**

---

## ‚úÖ 3. –ß—ë—Ç–∫–∏–π API-–∫–æ–Ω—Ç—Ä–∞–∫—Ç (–ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π)

–ú—ã —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

* `/api/houses?bbox=...`

  * –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `House[]`
* `/api/house/:id`

  * –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç

üëâ Frontend –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç ‚Äú–¥–æ–≥–∞–¥—ã–≤–∞—Ç—å—Å—è‚Äù, backend —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∑–∞–º–µ–Ω—è–µ–º—ã–º.

---

## ‚úÖ 4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è UX –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö id

* `selectedId` = —Ä–µ–∞–ª—å–Ω—ã–π `house.id`
* `hoveredId` = —Ä–µ–∞–ª—å–Ω—ã–π `house.id`
* –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ ‚áÑ –∫–ª–∏–∫ –ø–æ –º–∞—Ä–∫–µ—Ä—É ‚áÑ –∫–ª–∞—Å—Ç–µ—Ä

üëâ –≠—Ç–æ **–æ—â—É—â–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–∞**, –∞ –Ω–µ –¥–µ–º–æ.

---

## ‚úÖ 5. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –±—É–¥—É—â–µ–º—É (–±–µ–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ–π—á–∞—Å)

–ü–æ—Å–ª–µ TASK 13 **–±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å:

* —Ñ–∏–ª—å—Ç—Ä—ã (—Ü–µ–Ω–∞, –ø–ª–æ—â–∞–¥—å, —Ç–∏–ø)
* heatmap
* promoted listings
* –∞–Ω–∞–ª–∏—Ç–∏–∫—É
* mobile UX

---

# 2Ô∏è‚É£ –ß–¢–û –ú–´ –°–û–ó–ù–ê–¢–ï–õ–¨–ù–û –ù–ï –î–ï–õ–ê–ï–ú –í TASK 13

‚ùå –ù–µ—Ç:

* –ª–æ–≥–∏–Ω–∞
* SEO
* –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ UI
* –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
* detail page —Å —Ñ–æ—Ç–∫–∞–º–∏
* –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏

üëâ **–¢–æ–ª—å–∫–æ data ‚Üí product.**

---

# 3Ô∏è‚É£ –°–¢–†–£–ö–¢–£–†–ê TASK 13 (–ü–û–®–ê–ì–û–í–û)

## üîπ TASK 13.1 ‚Äî Data Audit (–ü–ï–†–í–´–ô –®–ê–ì)

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**

* —Ñ–∏–∫—Å–∏—Ä—É–µ–º —Ä–µ–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å `houses` –≤ –ë–î
* –∫–∞–∫–∏–µ –ø–æ–ª—è –µ—Å—Ç—å —Å–µ–π—á–∞—Å (id, centroid, price, area, type, ‚Ä¶)

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**

* –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ `House` (1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

---

## üîπ TASK 13.2 ‚Äî API `/houses by bbox`

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**

* endpoint, –∫–æ—Ç–æ—Ä—ã–π –ø–æ bbox –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `House[]`
* –ª–∏–º–∏—Ç—ã, –∑–∞—â–∏—Ç–∞, –ø–æ—Ä—è–¥–æ–∫

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**

* —Å—Ç–∞–±–∏–ª—å–Ω—ã–π backend-–∫–æ–Ω—Ç—Ä–∞–∫—Ç

---

## üîπ TASK 13.3 ‚Äî Frontend: –∑–∞–º–µ–Ω–∞ mock ‚Üí real

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**

* —É–±–∏—Ä–∞–µ–º `MOCK_LISTINGS`
* `HomeClient` –∑–∞–≥—Ä—É–∂–∞–µ—Ç `houses` –∏–∑ API
* Sidebar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**

* sidebar –±–æ–ª—å—à–µ –Ω–µ ‚Äú–ø—Ä–æ–ø–∞–¥–∞–µ—Ç‚Äù

---

## üîπ TASK 13.4 ‚Äî Map ‚Üî Sidebar real sync

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**

* –º–∞—Ä–∫–µ—Ä—ã/–∫–ª–∞—Å—Ç–µ—Ä—ã —Å—Ç—Ä–æ—è—Ç—Å—è –∏–∑ `houses[]`
* –≤—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö id

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**

* –∏–¥–µ–∞–ª—å–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é UX

---

## üîπ TASK 13.5 ‚Äî Performance & UX safety

**–ß—Ç–æ –¥–µ–ª–∞–µ–º:**

* debounce bbox
* min zoom
* loading / empty state

**–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:**

* —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –Ω–∞ –ø—Ä–æ–¥–µ

---

# 4Ô∏è‚É£ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò TASK 13

TASK 13 —Å—á–∏—Ç–∞–µ—Ç—Å—è **DONE**, –µ—Å–ª–∏:

1. ‚ùå –í –ø—Ä–æ–µ–∫—Ç–µ **–Ω–µ—Ç mock listings**
2. ‚úÖ Sidebar –∏ Map –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ**
3. ‚úÖ –ö–ª–∏–∫/hover —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ä–µ–∞–ª—å–Ω—ã–º `house.id`
4. ‚úÖ –î–≤–∏–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã ‚Üí —Ä–µ–∞–ª—å–Ω—ã–π API ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
5. ‚úÖ `pnpm build` PASS, `pnpm dev` PASS
6. ‚úÖ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ Vercel —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ

---

# 5Ô∏è‚É£ –ß–¢–û –ù–£–ñ–ù–û –û–¢ –¢–ï–ë–Ø –ü–†–Ø–ú–û –°–ï–ô–ß–ê–° (1 –®–ê–ì)

–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å **TASK 13.1 ‚Äî Data Audit**, –ø—Ä–∏—à–ª–∏ **–æ–¥–Ω–æ –∏–∑ –¥–≤—É—Ö**:

### –í–∞—Ä–∏–∞–Ω—Ç A (–∏–¥–µ–∞–ª—å–Ω–æ)

–§—Ä–∞–≥–º–µ–Ω—Ç `prisma/schema.prisma` —Å –º–æ–¥–µ–ª—å—é `House` / `houses`

### –í–∞—Ä–∏–∞–Ω—Ç B (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)

–°–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π —Ç–∞–±–ª–∏—Ü—ã `houses` (–º–æ–∂–Ω–æ —Ç–µ–∫—Å—Ç–æ–º), –Ω–∞–ø—Ä–∏–º–µ—Ä:

```
id
centroid (geometry)
price
area_sqm
building_type
...
```

üëâ –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è:

* –∑–∞—Ñ–∏–∫—Å–∏—Ä—É—é **–∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫—É—é –º–æ–¥–µ–ª—å House**
* –¥–∞–º **—Ç–æ—á–Ω—ã–π API-–∫–æ–Ω—Ç—Ä–∞–∫—Ç**
* –∏ –º—ã –ø–æ–π–¥—ë–º –¥–∞–ª—å—à–µ **–±–µ–∑ –¥–æ–≥–∞–¥–æ–∫ –∏ –ø–µ—Ä–µ–¥–µ–ª–æ–∫**

---

üß≠ **TASK 13 –∑–∞–ø—É—â–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –≤–æ–≤—Ä–µ–º—è.**
–¢—ã –ø–µ—Ä–µ—à—ë–ª –æ—Ç ‚Äú–º—ã —Å–¥–µ–ª–∞–ª–∏ MVP‚Äù –∫ ‚Äú–º—ã —Å—Ç—Ä–æ–∏–º –ø—Ä–æ–¥—É–∫—Ç‚Äù.

task16